## BETA BETA BETA - In Progress

### Many thanks to Zel Community Member **_Marrych_** for compiling this guide.

***
In case you don't want to build from source: \
Pre-compiled binaries\
**_Mac:_**\
[daemon](https://zelcore.io/downloads/nodes/testnetv6/zelcashd-mac)\
[CLI](https://zelcore.io/downloads/nodes/testnetv6/zelcash-cli-mac)\
**_Linux:_**\
[daemon](https://zelcore.io/downloads/nodes/testnetv6/zelcashd)\
[CLI](https://zelcore.io/downloads/nodes/testnetv6/zelcash-cli)\
**_Windows:_**\
[daemon](https://zelcore.io/downloads/nodes/testnetv6/zelcashd.exe)\
[CLI](https://zelcore.io/downloads/nodes/testnetv6/zelcash-cli.exe)\
**_Source Branch:_**\
https://github.com/zelcash/zelcash/tree/beta_nodes

***

# Detailed Build & Setup Steps 
### (ZelNode VPS/Server side build and setup process)
Steps below are using Ubuntu 16. If you use Ubuntu 18 the steps will be very similar but could have slight differences.
***

**Your VPS/server should be setup at this point. You can follow OrthoReb's guide for creating a DigitalOcean Droplet. For other VPS providers, follow their setup instructions and use either the dashboard console or sign into your VPS with a terminal, like Putty. Create a non-root user:**
* `$ adduser ANYNAME`
* Enter your new password
* Click enter through the user info, then `Y` to confirm.
* `$ usermod -aG sudo ANYNAME`
* `$ su ANYNAME`
* Enter ANYNAME's password

***
### Build the daemon from source, configure and sync the daemon, configure ZelNode
> Steps 1-7 are for building from source. If you download the pre-compiled binaries, skip to step 8.

1. `$ sudo apt-get update && apt-get upgrade -y`
1. `$ sudo reboot -n`, allow system 60 seconds to reboot, then log back into VPS via console or terminal program.
1. `$ sudo apt-get install build-essential pkg-config libc6-dev m4 g++-multilib `
1. `$ sudo apt-get install autoconf libtool ncurses-dev unzip git python python-zmq`
1. `$ sudo apt-get install  zlib1g-dev wget curl bsdmainutils automake nano`
1. `$ git clone https://github.com/zelcash/zelcash.git`
1. `$ cd zelcash`
1. `$ git checkout beta_nodes`
1. `$./zcutil/build.sh -j$(nproc)`
1. Copy and execute each line, one at a time.
```
$ mkdir ~/.zelcash
$ echo "rpcuser=username" >> ~/.zelcash/zelcash.conf
$ echo "rpcpassword='head -c 32 /dev/urandom | base64'" >> ~/.zelcash/zelcash.conf
$ echo "rpcallowip=127.0.0.1" >> ~/.zelcash/zelcash.conf
$ echo "listen=1" >> ~/.zelcash/zelcash.conf
$ echo "server=1" >> ~/.zelcash/zelcash.conf
$ echo "daemon=1" >> ~/.zelcash/zelcash.conf
$ echo "logtimestamps=1" >> ~/.zelcash/zelcash.conf
$ echo "testnet=1" >> ~/.zelcash/zelcash.conf
$ echo "txindex=1" >> ~/.zelcash/zelcash.conf
$ echo "addnode=testnetnodes.zel.cash" >> ~/.zelcash/zelcash.conf
```
1. `$ cd zelcash`
1. `$ ./zcutil/fetch-params.sh`
1. `$ ./src/zelcashd`
1. While the VPS daemon loads and syncs, follow one of the ZelNode Control Wallet Setup Guides (ZelCore, Swing, or CLI) to collateralize your ZelCash in your desired address and to generate the necessary line for your zelnode.conf file on your VPS/server. It should look similar to this: 
> ZelNode1 168.104.100.190:26125 1234567890H9sA5ArE5Y9rrrrgAfRtKLYUp 13c385119f135c215a2bef7de37b534f1ac27f4d0f23c105d8ee431f9b797105 0 

Format of above string: **[ZelnodeName] [ZelNode IP address:port] [ZelNode private key] [ZelNode output] [ZelNode output digit]**

1. Activate the ZelNode in the Control Wallet.
1. Add the ZelNode line generated by the Control Wallet to your zelnode.conf on your VPS/Server \
`$ echo "ZelNode1 168.104.100.190:26125 1234567890H9sA5ArE5Y9rrrrgAfRtKLYUp 13c385119f135c215a2bef7de37b534f1ac27f4d0f23c105d8ee431f9b797105 0" >> ~/.zelcash/testnet6/zelnode.conf`
1. Back , on zelnode wallet :
1. `$ ./src/zelcash-cli stop`
1. `$ sudo nano ~/.zelcash/zelcash.conf`
1. Add any lines from below that are not in your zelcash.conf file. \
```
rpcuser=type a random long username
rpcpassword=type a random long password
rpcallowip=127.0.0.1
zelnode=1
zelnodeprivkey=YOURZELNODEPRIVATEKEY
listen=1
server=1
daemon=1
externalip=your VPS/server ip (no port)
bind=your VPS/server ip (no port)
```
1. `CTRL+X`, then `Y` to exit and save your zelcash.conf file.
1. `$ ./src/zelcashd` Allow time for the daemon to sync. You can check the block height with `./src/zelcash-cli getinfo` and check the height against the block explorer (testnetnodes.zel.cash). Daemon is synced when block heights match.
1. `$ ./src/zelcash-cli` 
1. `$ ./src/zelcash-cli startzelnode local false` \
Now you have activated the ZelNode on both the Control Wallet and VPS/Server.
### The ZelNodes take time to activate on the network. Your Node should show up as status "Pre_Enabled" within 20 minutes. The status will change to "Enabled" within 2-3 hours.
